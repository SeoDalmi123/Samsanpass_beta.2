
<html lang="en">
<head>
    <title>Login</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ===== Iconscout CSS ===== -->
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- ===== CSS Styles===== -->
    <link rel="stylesheet" href="../styles/forgotpass.css">
    <link rel="stylesheet" href="../navihead.css">
</head>


<body>
    <!----------------------------NAVIGATION--------------------->
    <div class="navheader">
        <div class="navbarcont">
        <div class="left">
        <img src="../images/logo.png" class="navlogo">
        <h1><a href="../index.html" class="samsan">SAMSANPASS</a></h1>
        </div>

        <div class="right">
            <nav class="navbar">
                <ul>
                    <li><a href="features.html">Features</a></li>
                    <li><a href="../pages/helpcontactpage.html">Contact Us</a></li>
                </ul>
            </nav>
            <!--<a href="#" class="addext">Add to Chrome</a>-->
            <a href="../login.html" class="nav-login">Log In</a>
            
        </div>
    </div>
    </div>
    <!----------------------------Forgot password--------------------->
    <div class="container">
        <div class="forms">
            <div class="form login">
                <div class="header">
                   
                    <img src="../images/logo.png" class="logo">
                     <h1>SamSanPass</h1>
                </div>
                <br>
                <span class="title">Account Recovery</span>
                <br>
                <label class="forg-error-msg" id="forg-error"></label>
                <br>
                <span class="titledes">To help keep your account safe, we want to make sure that itâ€™s really you trying to sign in. Please enter your email.</span>
                <form action="#">
                  

                    <div class="input-field">
                        <input type="text" name="input" id="resetEmail" placeholder="Enter your Email" required>
                        <i class="uil uil-envelope icon"></i>
                    </div>
                    <div class="input-field button"> 
                        
                        <div class="input-field button"> 
                            <input type="button" id="reset" value="Reset">

                    </div>
                    </div>
<script type="module">
                // Import the functions you need from the SDKs you need
                import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
                import { getAuth, createUserWithEmailAndPassword, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
                

                

                // TODO: Add SDKs for Firebase products that you want to use
                // https://firebase.google.com/docs/web/setup#available-libraries
            
                // Your web app's Firebase configuration
                const firebaseConfig = {
                apiKey: "AIzaSyDxtV95lDmfhOPLkHN1C_NiJp_qBDPBHYk",
                authDomain: "samsanpasspasswordmanager.firebaseapp.com",
                projectId: "samsanpasspasswordmanager",
                storageBucket: "samsanpasspasswordmanager.appspot.com",
                messagingSenderId: "142889552932",
                appId: "1:142889552932:web:6c513f22306b5e83489cb1"
                };
            
                // Initialize Firebase
                const app = initializeApp(firebaseConfig);
                const auth = getAuth();
                auth.languageCode = 'english';


    //..password reset

                    let reset = document.querySelector("#reset")
                    reset.addEventListener("click",function(){


                        let email = document.querySelector("#resetEmail")


                        const auth = getAuth();
                        sendPasswordResetEmail(auth, email.value)
                        .then(() => {
                            alert("Reset Password Link Sent")
                            window.location.href= "../login.html";
                        })
                        .catch((error) => {
                            const errorCode = error.code;
                            if(errorCode === 'auth/user-not-found'){
                                document.getElementById("forg-error").innerHTML ='Invalid User!';
                            }
                            
                        }); 



                    })


  </script>
                
   


  </body>
</html>

